language: java
branches:
  only:
  - master
  - develop
before_install:
- chmod +x gradlew
install: true
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/install-oracle-jdk6.sh
- $HOME/build-script/travis-ci/nablarch-build.sh
- $HOME/build-script/travis-ci/upload-test-report.sh
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  slack:
    secure: BLQL3vN3KhlMNCx/PlOlu7IGhAtsUZ1SU9hbUNhQby4voDuD/VdmpLC0i6RpdqGsximXEvGFSsXGgininve2A9hSZmNaXqmjATmiWdCPG5NyKwpe4hpvepL8U2euZqPcAdII7wOE6y2zEqWRpislX7URoI/ZaSqYDRiBVa199sCnZE4SzewCatpYQosECnRPpuuhZDKro0t907wCOGHz6Tv9IPRnT3KIwnIn744eoSqosYhjI4g3UMSC8K4jANNUroP/ltUKsTyWAD/pNADlA16uq/0kzRtYXB8k1TsyPYgqxVY63VmjGjE2ABtnwgoqV2CFEZLNG2LzZzeKv+GX+VKHmjKBm0zhdjFeV/WobN8vad/6/vSWIr+qqOMZ2xSWn5hnhM7mqFNaleFJSaVO19LG3MwUr0ui6dBgay6OskE3ok6TsUJHN1stGxA4yJOWltVaTeULBn1xNWWC+3wLvok7dq28/beY5Y73AAOBpdPF/w5zqR+FZZhJXwsfiF7baJT7ijmGDeYVPMwR7IoP2OGBs+I2XaYTKZhB8USSuwFFmWSVNqWAkpnsZgpAEDy/bohwzQolzCfOJDaajhktgtjRxR7x+D81xWKk7U/5cDq4sA3CWwFrWfELClAgJJ2cD27yrPBImdieKTRYc6Z1XzHnnocC+qkxqokySNrmNMg=
